[
  {
    "objectID": "Homework5.html",
    "href": "Homework5.html",
    "title": "Homework5",
    "section": "",
    "text": "Original Code\n\nd1=read.table(\"student-mat.csv\",sep=\";\",header=TRUE)\nd2=read.table(\"student-por.csv\",sep=\";\",header=TRUE)\nd3=merge(d1,d2,by=c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"nursery\",\"internet\"))\nstr(d3)\n\n'data.frame':   382 obs. of  53 variables:\n $ school      : chr  \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex         : chr  \"F\" \"F\" \"F\" \"F\" ...\n $ age         : int  15 15 15 15 15 15 15 15 15 15 ...\n $ address     : chr  \"R\" \"R\" \"R\" \"R\" ...\n $ famsize     : chr  \"GT3\" \"GT3\" \"GT3\" \"GT3\" ...\n $ Pstatus     : chr  \"T\" \"T\" \"T\" \"T\" ...\n $ Medu        : int  1 1 2 2 3 3 3 2 3 3 ...\n $ Fedu        : int  1 1 2 4 3 4 4 2 1 3 ...\n $ Mjob        : chr  \"at_home\" \"other\" \"at_home\" \"services\" ...\n $ Fjob        : chr  \"other\" \"other\" \"other\" \"health\" ...\n $ reason      : chr  \"home\" \"reputation\" \"reputation\" \"course\" ...\n $ nursery     : chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ internet    : chr  \"yes\" \"yes\" \"no\" \"yes\" ...\n $ guardian.x  : chr  \"mother\" \"mother\" \"mother\" \"mother\" ...\n $ traveltime.x: int  2 1 1 1 2 1 2 2 2 1 ...\n $ studytime.x : int  4 2 1 3 3 3 3 2 4 4 ...\n $ failures.x  : int  1 2 0 0 2 0 2 0 0 0 ...\n $ schoolsup.x : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ famsup.x    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ paid.x      : chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ activities.x: chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher.x    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.x  : chr  \"no\" \"yes\" \"no\" \"no\" ...\n $ famrel.x    : int  3 3 4 4 4 4 4 4 4 4 ...\n $ freetime.x  : int  1 3 3 3 2 3 2 1 4 3 ...\n $ goout.x     : int  2 4 1 2 1 2 2 3 2 3 ...\n $ Dalc.x      : int  1 2 1 1 2 1 2 1 2 1 ...\n $ Walc.x      : int  1 4 1 1 3 1 2 3 3 1 ...\n $ health.x    : int  1 5 2 5 3 5 5 4 3 4 ...\n $ absences.x  : int  2 2 8 2 8 2 0 2 12 10 ...\n $ G1.x        : int  7 8 14 10 10 12 12 8 16 10 ...\n $ G2.x        : int  10 6 13 9 10 12 0 9 16 11 ...\n $ G3.x        : int  10 5 13 8 10 11 0 8 16 11 ...\n $ guardian.y  : chr  \"mother\" \"mother\" \"mother\" \"mother\" ...\n $ traveltime.y: int  2 1 1 1 2 1 2 2 2 1 ...\n $ studytime.y : int  4 2 1 3 3 3 3 2 4 4 ...\n $ failures.y  : int  0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup.y : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ famsup.y    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ paid.y      : chr  \"yes\" \"no\" \"no\" \"no\" ...\n $ activities.y: chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher.y    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.y  : chr  \"no\" \"yes\" \"no\" \"no\" ...\n $ famrel.y    : int  3 3 4 4 4 4 4 4 4 4 ...\n $ freetime.y  : int  1 3 3 3 2 3 2 1 4 3 ...\n $ goout.y     : int  2 4 1 2 1 2 2 3 2 3 ...\n $ Dalc.y      : int  1 2 1 1 2 1 2 1 2 1 ...\n $ Walc.y      : int  1 4 1 1 3 1 2 3 3 1 ...\n $ health.y    : int  1 5 2 5 3 5 5 4 3 4 ...\n $ absences.y  : int  4 2 8 2 2 2 0 0 6 10 ...\n $ G1.y        : int  13 13 14 10 13 11 10 11 15 10 ...\n $ G2.y        : int  13 11 13 11 13 12 11 10 15 10 ...\n $ G3.y        : int  13 11 12 10 13 12 12 11 15 10 ...\n\nprint(nrow(d3)) # 382 students\n\n[1] 382\n\n\nUsing inner join()\n\njoined_d3 &lt;- inner_join(d1,d2, \n                          by = c(\"school\", \"sex\", \"age\", \"address\", \"famsize\", \"Pstatus\", \n                                 \"Medu\", \"Fedu\", \"Mjob\", \"Fjob\", \"reason\", \"nursery\", \"internet\"))\n\nWarning in inner_join(d1, d2, by = c(\"school\", \"sex\", \"age\", \"address\", : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 79 of `x` matches multiple rows in `y`.\nℹ Row 79 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\nstr(joined_d3)\n\n'data.frame':   382 obs. of  53 variables:\n $ school      : chr  \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex         : chr  \"F\" \"F\" \"F\" \"F\" ...\n $ age         : int  18 17 15 15 16 16 16 17 15 15 ...\n $ address     : chr  \"U\" \"U\" \"U\" \"U\" ...\n $ famsize     : chr  \"GT3\" \"GT3\" \"LE3\" \"GT3\" ...\n $ Pstatus     : chr  \"A\" \"T\" \"T\" \"T\" ...\n $ Medu        : int  4 1 1 4 3 4 2 4 3 3 ...\n $ Fedu        : int  4 1 1 2 3 3 2 4 2 4 ...\n $ Mjob        : chr  \"at_home\" \"at_home\" \"at_home\" \"health\" ...\n $ Fjob        : chr  \"teacher\" \"other\" \"other\" \"services\" ...\n $ reason      : chr  \"course\" \"course\" \"other\" \"home\" ...\n $ guardian.x  : chr  \"mother\" \"father\" \"mother\" \"mother\" ...\n $ traveltime.x: int  2 1 1 1 1 1 1 2 1 1 ...\n $ studytime.x : int  2 2 2 3 2 2 2 2 2 2 ...\n $ failures.x  : int  0 0 3 0 0 0 0 0 0 0 ...\n $ schoolsup.x : chr  \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup.x    : chr  \"no\" \"yes\" \"no\" \"yes\" ...\n $ paid.x      : chr  \"no\" \"no\" \"yes\" \"yes\" ...\n $ activities.x: chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ nursery     : chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher.x    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet    : chr  \"no\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.x  : chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel.x    : int  4 5 4 3 4 5 4 4 4 5 ...\n $ freetime.x  : int  3 3 3 2 3 4 4 1 2 5 ...\n $ goout.x     : int  4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc.x      : int  1 1 2 1 1 1 1 1 1 1 ...\n $ Walc.x      : int  1 1 3 1 2 2 1 1 1 1 ...\n $ health.x    : int  3 3 3 5 5 5 3 1 1 5 ...\n $ absences.x  : int  6 4 10 2 4 10 0 6 0 0 ...\n $ G1.x        : int  5 5 7 15 6 15 12 6 16 14 ...\n $ G2.x        : int  6 5 8 14 10 15 12 5 18 15 ...\n $ G3.x        : int  6 6 10 15 10 15 11 6 19 15 ...\n $ guardian.y  : chr  \"mother\" \"father\" \"mother\" \"mother\" ...\n $ traveltime.y: int  2 1 1 1 1 1 1 2 1 1 ...\n $ studytime.y : int  2 2 2 3 2 2 2 2 2 2 ...\n $ failures.y  : int  0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup.y : chr  \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup.y    : chr  \"no\" \"yes\" \"no\" \"yes\" ...\n $ paid.y      : chr  \"no\" \"no\" \"no\" \"no\" ...\n $ activities.y: chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ higher.y    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.y  : chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel.y    : int  4 5 4 3 4 5 4 4 4 5 ...\n $ freetime.y  : int  3 3 3 2 3 4 4 1 2 5 ...\n $ goout.y     : int  4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc.y      : int  1 1 2 1 1 1 1 1 1 1 ...\n $ Walc.y      : int  1 1 3 1 2 2 1 1 1 1 ...\n $ health.y    : int  3 3 3 5 5 5 3 1 1 5 ...\n $ absences.y  : int  4 2 6 0 0 6 0 2 0 0 ...\n $ G1.y        : int  0 9 12 14 11 12 13 10 15 12 ...\n $ G2.y        : int  11 11 13 14 13 12 12 13 16 12 ...\n $ G3.y        : int  11 11 12 14 13 13 13 13 17 13 ...\n\n\nNo G1,G2,G3,Paid,absences\n\nfinal_d1 &lt;- inner_join(d1 |&gt;\n                         select(-G1, -G2, -G3, -paid, -absences), d2 |&gt;\n                            select(-G1, -G2, -G3, -paid, -absences), \n                            by = c(\"school\", \"sex\", \"age\", \"address\",\"famsize\",                             \"Pstatus\", \"Medu\", \"Fedu\", \"Mjob\", \"Fjob\",                                     \"reason\", \"nursery\", \"internet\"))\n\nWarning in inner_join(select(d1, -G1, -G2, -G3, -paid, -absences), select(d2, : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 79 of `x` matches multiple rows in `y`.\nℹ Row 79 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\nstr(final_d1)\n\n'data.frame':   382 obs. of  43 variables:\n $ school      : chr  \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex         : chr  \"F\" \"F\" \"F\" \"F\" ...\n $ age         : int  18 17 15 15 16 16 16 17 15 15 ...\n $ address     : chr  \"U\" \"U\" \"U\" \"U\" ...\n $ famsize     : chr  \"GT3\" \"GT3\" \"LE3\" \"GT3\" ...\n $ Pstatus     : chr  \"A\" \"T\" \"T\" \"T\" ...\n $ Medu        : int  4 1 1 4 3 4 2 4 3 3 ...\n $ Fedu        : int  4 1 1 2 3 3 2 4 2 4 ...\n $ Mjob        : chr  \"at_home\" \"at_home\" \"at_home\" \"health\" ...\n $ Fjob        : chr  \"teacher\" \"other\" \"other\" \"services\" ...\n $ reason      : chr  \"course\" \"course\" \"other\" \"home\" ...\n $ guardian.x  : chr  \"mother\" \"father\" \"mother\" \"mother\" ...\n $ traveltime.x: int  2 1 1 1 1 1 1 2 1 1 ...\n $ studytime.x : int  2 2 2 3 2 2 2 2 2 2 ...\n $ failures.x  : int  0 0 3 0 0 0 0 0 0 0 ...\n $ schoolsup.x : chr  \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup.x    : chr  \"no\" \"yes\" \"no\" \"yes\" ...\n $ activities.x: chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ nursery     : chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher.x    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet    : chr  \"no\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.x  : chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel.x    : int  4 5 4 3 4 5 4 4 4 5 ...\n $ freetime.x  : int  3 3 3 2 3 4 4 1 2 5 ...\n $ goout.x     : int  4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc.x      : int  1 1 2 1 1 1 1 1 1 1 ...\n $ Walc.x      : int  1 1 3 1 2 2 1 1 1 1 ...\n $ health.x    : int  3 3 3 5 5 5 3 1 1 5 ...\n $ guardian.y  : chr  \"mother\" \"father\" \"mother\" \"mother\" ...\n $ traveltime.y: int  2 1 1 1 1 1 1 2 1 1 ...\n $ studytime.y : int  2 2 2 3 2 2 2 2 2 2 ...\n $ failures.y  : int  0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup.y : chr  \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup.y    : chr  \"no\" \"yes\" \"no\" \"yes\" ...\n $ activities.y: chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ higher.y    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.y  : chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel.y    : int  4 5 4 3 4 5 4 4 4 5 ...\n $ freetime.y  : int  3 3 3 2 3 4 4 1 2 5 ...\n $ goout.y     : int  4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc.y      : int  1 1 2 1 1 1 1 1 1 1 ...\n $ Walc.y      : int  1 1 3 1 2 2 1 1 1 1 ...\n $ health.y    : int  3 3 3 5 5 5 3 1 1 5 ...\n\n\nPicking School,Sex, Famsize, and Reason as our categorical variables.\n\nfinal_d1 &lt;- final_d1 %&gt;%\n  mutate(\n    school = as.factor(school),\n    sex = as.factor(sex),\n    famsize = as.factor(famsize),\n    reason = as.factor(reason)\n  )\nstr(final_d1)\n\n'data.frame':   382 obs. of  43 variables:\n $ school      : Factor w/ 2 levels \"GP\",\"MS\": 1 1 1 1 1 1 1 1 1 1 ...\n $ sex         : Factor w/ 2 levels \"F\",\"M\": 1 1 1 1 1 2 2 1 2 2 ...\n $ age         : int  18 17 15 15 16 16 16 17 15 15 ...\n $ address     : chr  \"U\" \"U\" \"U\" \"U\" ...\n $ famsize     : Factor w/ 2 levels \"GT3\",\"LE3\": 1 1 2 1 1 2 2 1 2 1 ...\n $ Pstatus     : chr  \"A\" \"T\" \"T\" \"T\" ...\n $ Medu        : int  4 1 1 4 3 4 2 4 3 3 ...\n $ Fedu        : int  4 1 1 2 3 3 2 4 2 4 ...\n $ Mjob        : chr  \"at_home\" \"at_home\" \"at_home\" \"health\" ...\n $ Fjob        : chr  \"teacher\" \"other\" \"other\" \"services\" ...\n $ reason      : Factor w/ 4 levels \"course\",\"home\",..: 1 1 3 2 2 4 2 2 2 2 ...\n $ guardian.x  : chr  \"mother\" \"father\" \"mother\" \"mother\" ...\n $ traveltime.x: int  2 1 1 1 1 1 1 2 1 1 ...\n $ studytime.x : int  2 2 2 3 2 2 2 2 2 2 ...\n $ failures.x  : int  0 0 3 0 0 0 0 0 0 0 ...\n $ schoolsup.x : chr  \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup.x    : chr  \"no\" \"yes\" \"no\" \"yes\" ...\n $ activities.x: chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ nursery     : chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher.x    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet    : chr  \"no\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.x  : chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel.x    : int  4 5 4 3 4 5 4 4 4 5 ...\n $ freetime.x  : int  3 3 3 2 3 4 4 1 2 5 ...\n $ goout.x     : int  4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc.x      : int  1 1 2 1 1 1 1 1 1 1 ...\n $ Walc.x      : int  1 1 3 1 2 2 1 1 1 1 ...\n $ health.x    : int  3 3 3 5 5 5 3 1 1 5 ...\n $ guardian.y  : chr  \"mother\" \"father\" \"mother\" \"mother\" ...\n $ traveltime.y: int  2 1 1 1 1 1 1 2 1 1 ...\n $ studytime.y : int  2 2 2 3 2 2 2 2 2 2 ...\n $ failures.y  : int  0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup.y : chr  \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup.y    : chr  \"no\" \"yes\" \"no\" \"yes\" ...\n $ activities.y: chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ higher.y    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.y  : chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel.y    : int  4 5 4 3 4 5 4 4 4 5 ...\n $ freetime.y  : int  3 3 3 2 3 4 4 1 2 5 ...\n $ goout.y     : int  4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc.y      : int  1 1 2 1 1 1 1 1 1 1 ...\n $ Walc.y      : int  1 1 3 1 2 2 1 1 1 1 ...\n $ health.y    : int  3 3 3 5 5 5 3 1 1 5 ..."
  },
  {
    "objectID": "Homework5.html#task-1",
    "href": "Homework5.html#task-1",
    "title": "Homework5",
    "section": "",
    "text": "Original Code\n\nd1=read.table(\"student-mat.csv\",sep=\";\",header=TRUE)\nd2=read.table(\"student-por.csv\",sep=\";\",header=TRUE)\nd3=merge(d1,d2,by=c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"nursery\",\"internet\"))\nstr(d3)\n\n'data.frame':   382 obs. of  53 variables:\n $ school      : chr  \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex         : chr  \"F\" \"F\" \"F\" \"F\" ...\n $ age         : int  15 15 15 15 15 15 15 15 15 15 ...\n $ address     : chr  \"R\" \"R\" \"R\" \"R\" ...\n $ famsize     : chr  \"GT3\" \"GT3\" \"GT3\" \"GT3\" ...\n $ Pstatus     : chr  \"T\" \"T\" \"T\" \"T\" ...\n $ Medu        : int  1 1 2 2 3 3 3 2 3 3 ...\n $ Fedu        : int  1 1 2 4 3 4 4 2 1 3 ...\n $ Mjob        : chr  \"at_home\" \"other\" \"at_home\" \"services\" ...\n $ Fjob        : chr  \"other\" \"other\" \"other\" \"health\" ...\n $ reason      : chr  \"home\" \"reputation\" \"reputation\" \"course\" ...\n $ nursery     : chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ internet    : chr  \"yes\" \"yes\" \"no\" \"yes\" ...\n $ guardian.x  : chr  \"mother\" \"mother\" \"mother\" \"mother\" ...\n $ traveltime.x: int  2 1 1 1 2 1 2 2 2 1 ...\n $ studytime.x : int  4 2 1 3 3 3 3 2 4 4 ...\n $ failures.x  : int  1 2 0 0 2 0 2 0 0 0 ...\n $ schoolsup.x : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ famsup.x    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ paid.x      : chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ activities.x: chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher.x    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.x  : chr  \"no\" \"yes\" \"no\" \"no\" ...\n $ famrel.x    : int  3 3 4 4 4 4 4 4 4 4 ...\n $ freetime.x  : int  1 3 3 3 2 3 2 1 4 3 ...\n $ goout.x     : int  2 4 1 2 1 2 2 3 2 3 ...\n $ Dalc.x      : int  1 2 1 1 2 1 2 1 2 1 ...\n $ Walc.x      : int  1 4 1 1 3 1 2 3 3 1 ...\n $ health.x    : int  1 5 2 5 3 5 5 4 3 4 ...\n $ absences.x  : int  2 2 8 2 8 2 0 2 12 10 ...\n $ G1.x        : int  7 8 14 10 10 12 12 8 16 10 ...\n $ G2.x        : int  10 6 13 9 10 12 0 9 16 11 ...\n $ G3.x        : int  10 5 13 8 10 11 0 8 16 11 ...\n $ guardian.y  : chr  \"mother\" \"mother\" \"mother\" \"mother\" ...\n $ traveltime.y: int  2 1 1 1 2 1 2 2 2 1 ...\n $ studytime.y : int  4 2 1 3 3 3 3 2 4 4 ...\n $ failures.y  : int  0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup.y : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ famsup.y    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ paid.y      : chr  \"yes\" \"no\" \"no\" \"no\" ...\n $ activities.y: chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher.y    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.y  : chr  \"no\" \"yes\" \"no\" \"no\" ...\n $ famrel.y    : int  3 3 4 4 4 4 4 4 4 4 ...\n $ freetime.y  : int  1 3 3 3 2 3 2 1 4 3 ...\n $ goout.y     : int  2 4 1 2 1 2 2 3 2 3 ...\n $ Dalc.y      : int  1 2 1 1 2 1 2 1 2 1 ...\n $ Walc.y      : int  1 4 1 1 3 1 2 3 3 1 ...\n $ health.y    : int  1 5 2 5 3 5 5 4 3 4 ...\n $ absences.y  : int  4 2 8 2 2 2 0 0 6 10 ...\n $ G1.y        : int  13 13 14 10 13 11 10 11 15 10 ...\n $ G2.y        : int  13 11 13 11 13 12 11 10 15 10 ...\n $ G3.y        : int  13 11 12 10 13 12 12 11 15 10 ...\n\nprint(nrow(d3)) # 382 students\n\n[1] 382\n\n\nUsing inner join()\n\njoined_d3 &lt;- inner_join(d1,d2, \n                          by = c(\"school\", \"sex\", \"age\", \"address\", \"famsize\", \"Pstatus\", \n                                 \"Medu\", \"Fedu\", \"Mjob\", \"Fjob\", \"reason\", \"nursery\", \"internet\"))\n\nWarning in inner_join(d1, d2, by = c(\"school\", \"sex\", \"age\", \"address\", : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 79 of `x` matches multiple rows in `y`.\nℹ Row 79 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\nstr(joined_d3)\n\n'data.frame':   382 obs. of  53 variables:\n $ school      : chr  \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex         : chr  \"F\" \"F\" \"F\" \"F\" ...\n $ age         : int  18 17 15 15 16 16 16 17 15 15 ...\n $ address     : chr  \"U\" \"U\" \"U\" \"U\" ...\n $ famsize     : chr  \"GT3\" \"GT3\" \"LE3\" \"GT3\" ...\n $ Pstatus     : chr  \"A\" \"T\" \"T\" \"T\" ...\n $ Medu        : int  4 1 1 4 3 4 2 4 3 3 ...\n $ Fedu        : int  4 1 1 2 3 3 2 4 2 4 ...\n $ Mjob        : chr  \"at_home\" \"at_home\" \"at_home\" \"health\" ...\n $ Fjob        : chr  \"teacher\" \"other\" \"other\" \"services\" ...\n $ reason      : chr  \"course\" \"course\" \"other\" \"home\" ...\n $ guardian.x  : chr  \"mother\" \"father\" \"mother\" \"mother\" ...\n $ traveltime.x: int  2 1 1 1 1 1 1 2 1 1 ...\n $ studytime.x : int  2 2 2 3 2 2 2 2 2 2 ...\n $ failures.x  : int  0 0 3 0 0 0 0 0 0 0 ...\n $ schoolsup.x : chr  \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup.x    : chr  \"no\" \"yes\" \"no\" \"yes\" ...\n $ paid.x      : chr  \"no\" \"no\" \"yes\" \"yes\" ...\n $ activities.x: chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ nursery     : chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher.x    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet    : chr  \"no\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.x  : chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel.x    : int  4 5 4 3 4 5 4 4 4 5 ...\n $ freetime.x  : int  3 3 3 2 3 4 4 1 2 5 ...\n $ goout.x     : int  4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc.x      : int  1 1 2 1 1 1 1 1 1 1 ...\n $ Walc.x      : int  1 1 3 1 2 2 1 1 1 1 ...\n $ health.x    : int  3 3 3 5 5 5 3 1 1 5 ...\n $ absences.x  : int  6 4 10 2 4 10 0 6 0 0 ...\n $ G1.x        : int  5 5 7 15 6 15 12 6 16 14 ...\n $ G2.x        : int  6 5 8 14 10 15 12 5 18 15 ...\n $ G3.x        : int  6 6 10 15 10 15 11 6 19 15 ...\n $ guardian.y  : chr  \"mother\" \"father\" \"mother\" \"mother\" ...\n $ traveltime.y: int  2 1 1 1 1 1 1 2 1 1 ...\n $ studytime.y : int  2 2 2 3 2 2 2 2 2 2 ...\n $ failures.y  : int  0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup.y : chr  \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup.y    : chr  \"no\" \"yes\" \"no\" \"yes\" ...\n $ paid.y      : chr  \"no\" \"no\" \"no\" \"no\" ...\n $ activities.y: chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ higher.y    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.y  : chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel.y    : int  4 5 4 3 4 5 4 4 4 5 ...\n $ freetime.y  : int  3 3 3 2 3 4 4 1 2 5 ...\n $ goout.y     : int  4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc.y      : int  1 1 2 1 1 1 1 1 1 1 ...\n $ Walc.y      : int  1 1 3 1 2 2 1 1 1 1 ...\n $ health.y    : int  3 3 3 5 5 5 3 1 1 5 ...\n $ absences.y  : int  4 2 6 0 0 6 0 2 0 0 ...\n $ G1.y        : int  0 9 12 14 11 12 13 10 15 12 ...\n $ G2.y        : int  11 11 13 14 13 12 12 13 16 12 ...\n $ G3.y        : int  11 11 12 14 13 13 13 13 17 13 ...\n\n\nNo G1,G2,G3,Paid,absences\n\nfinal_d1 &lt;- inner_join(d1 |&gt;\n                         select(-G1, -G2, -G3, -paid, -absences), d2 |&gt;\n                            select(-G1, -G2, -G3, -paid, -absences), \n                            by = c(\"school\", \"sex\", \"age\", \"address\",\"famsize\",                             \"Pstatus\", \"Medu\", \"Fedu\", \"Mjob\", \"Fjob\",                                     \"reason\", \"nursery\", \"internet\"))\n\nWarning in inner_join(select(d1, -G1, -G2, -G3, -paid, -absences), select(d2, : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 79 of `x` matches multiple rows in `y`.\nℹ Row 79 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\nstr(final_d1)\n\n'data.frame':   382 obs. of  43 variables:\n $ school      : chr  \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex         : chr  \"F\" \"F\" \"F\" \"F\" ...\n $ age         : int  18 17 15 15 16 16 16 17 15 15 ...\n $ address     : chr  \"U\" \"U\" \"U\" \"U\" ...\n $ famsize     : chr  \"GT3\" \"GT3\" \"LE3\" \"GT3\" ...\n $ Pstatus     : chr  \"A\" \"T\" \"T\" \"T\" ...\n $ Medu        : int  4 1 1 4 3 4 2 4 3 3 ...\n $ Fedu        : int  4 1 1 2 3 3 2 4 2 4 ...\n $ Mjob        : chr  \"at_home\" \"at_home\" \"at_home\" \"health\" ...\n $ Fjob        : chr  \"teacher\" \"other\" \"other\" \"services\" ...\n $ reason      : chr  \"course\" \"course\" \"other\" \"home\" ...\n $ guardian.x  : chr  \"mother\" \"father\" \"mother\" \"mother\" ...\n $ traveltime.x: int  2 1 1 1 1 1 1 2 1 1 ...\n $ studytime.x : int  2 2 2 3 2 2 2 2 2 2 ...\n $ failures.x  : int  0 0 3 0 0 0 0 0 0 0 ...\n $ schoolsup.x : chr  \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup.x    : chr  \"no\" \"yes\" \"no\" \"yes\" ...\n $ activities.x: chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ nursery     : chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher.x    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet    : chr  \"no\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.x  : chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel.x    : int  4 5 4 3 4 5 4 4 4 5 ...\n $ freetime.x  : int  3 3 3 2 3 4 4 1 2 5 ...\n $ goout.x     : int  4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc.x      : int  1 1 2 1 1 1 1 1 1 1 ...\n $ Walc.x      : int  1 1 3 1 2 2 1 1 1 1 ...\n $ health.x    : int  3 3 3 5 5 5 3 1 1 5 ...\n $ guardian.y  : chr  \"mother\" \"father\" \"mother\" \"mother\" ...\n $ traveltime.y: int  2 1 1 1 1 1 1 2 1 1 ...\n $ studytime.y : int  2 2 2 3 2 2 2 2 2 2 ...\n $ failures.y  : int  0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup.y : chr  \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup.y    : chr  \"no\" \"yes\" \"no\" \"yes\" ...\n $ activities.y: chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ higher.y    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.y  : chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel.y    : int  4 5 4 3 4 5 4 4 4 5 ...\n $ freetime.y  : int  3 3 3 2 3 4 4 1 2 5 ...\n $ goout.y     : int  4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc.y      : int  1 1 2 1 1 1 1 1 1 1 ...\n $ Walc.y      : int  1 1 3 1 2 2 1 1 1 1 ...\n $ health.y    : int  3 3 3 5 5 5 3 1 1 5 ...\n\n\nPicking School,Sex, Famsize, and Reason as our categorical variables.\n\nfinal_d1 &lt;- final_d1 %&gt;%\n  mutate(\n    school = as.factor(school),\n    sex = as.factor(sex),\n    famsize = as.factor(famsize),\n    reason = as.factor(reason)\n  )\nstr(final_d1)\n\n'data.frame':   382 obs. of  43 variables:\n $ school      : Factor w/ 2 levels \"GP\",\"MS\": 1 1 1 1 1 1 1 1 1 1 ...\n $ sex         : Factor w/ 2 levels \"F\",\"M\": 1 1 1 1 1 2 2 1 2 2 ...\n $ age         : int  18 17 15 15 16 16 16 17 15 15 ...\n $ address     : chr  \"U\" \"U\" \"U\" \"U\" ...\n $ famsize     : Factor w/ 2 levels \"GT3\",\"LE3\": 1 1 2 1 1 2 2 1 2 1 ...\n $ Pstatus     : chr  \"A\" \"T\" \"T\" \"T\" ...\n $ Medu        : int  4 1 1 4 3 4 2 4 3 3 ...\n $ Fedu        : int  4 1 1 2 3 3 2 4 2 4 ...\n $ Mjob        : chr  \"at_home\" \"at_home\" \"at_home\" \"health\" ...\n $ Fjob        : chr  \"teacher\" \"other\" \"other\" \"services\" ...\n $ reason      : Factor w/ 4 levels \"course\",\"home\",..: 1 1 3 2 2 4 2 2 2 2 ...\n $ guardian.x  : chr  \"mother\" \"father\" \"mother\" \"mother\" ...\n $ traveltime.x: int  2 1 1 1 1 1 1 2 1 1 ...\n $ studytime.x : int  2 2 2 3 2 2 2 2 2 2 ...\n $ failures.x  : int  0 0 3 0 0 0 0 0 0 0 ...\n $ schoolsup.x : chr  \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup.x    : chr  \"no\" \"yes\" \"no\" \"yes\" ...\n $ activities.x: chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ nursery     : chr  \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher.x    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet    : chr  \"no\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.x  : chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel.x    : int  4 5 4 3 4 5 4 4 4 5 ...\n $ freetime.x  : int  3 3 3 2 3 4 4 1 2 5 ...\n $ goout.x     : int  4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc.x      : int  1 1 2 1 1 1 1 1 1 1 ...\n $ Walc.x      : int  1 1 3 1 2 2 1 1 1 1 ...\n $ health.x    : int  3 3 3 5 5 5 3 1 1 5 ...\n $ guardian.y  : chr  \"mother\" \"father\" \"mother\" \"mother\" ...\n $ traveltime.y: int  2 1 1 1 1 1 1 2 1 1 ...\n $ studytime.y : int  2 2 2 3 2 2 2 2 2 2 ...\n $ failures.y  : int  0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup.y : chr  \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup.y    : chr  \"no\" \"yes\" \"no\" \"yes\" ...\n $ activities.y: chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ higher.y    : chr  \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ romantic.y  : chr  \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel.y    : int  4 5 4 3 4 5 4 4 4 5 ...\n $ freetime.y  : int  3 3 3 2 3 4 4 1 2 5 ...\n $ goout.y     : int  4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc.y      : int  1 1 2 1 1 1 1 1 1 1 ...\n $ Walc.y      : int  1 1 3 1 2 2 1 1 1 1 ...\n $ health.y    : int  3 3 3 5 5 5 3 1 1 5 ..."
  }
]